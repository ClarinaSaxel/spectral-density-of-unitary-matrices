\begin{figure}[ht]
    \centering
    \begin{tikzpicture}

        % The real line
        \begin{axis}[
            axis lines = middle,
            name = realline,
            height = 4cm, width = 4cm,
            major tick length = 2ex,
            scale only axis,
            xlabel={$\re$},
            xlabel style = {
                at={(1.075,0.435)},
                anchor=south
            },
            ylabel={$\im$},
            ylabel style = {
                at={(0.415,1.07)},
                anchor=west
            },
            xmin = -2.5, xmax = 2.5,
            xtick = {-2,-1,1,2},
            ymin = -1.5, ymax = 1.5,
            ytick = {-1,1},
            yticklabels={$-i$,$i$}
        ]

            % (-\inf, -1)
            \addplot[
                domain = -3:-1,
                color = orange,
                style = thick
            ]
            ({x},{0});

            % [-1, 1]
            \addplot[
                domain = -1:1,
                color = blue,
                style = thick
            ]
            ({x},{0});

            % (1, \inf)
            \addplot[
                domain = 1:2.4,
                color = red,
                style = thick
            ]
            ({x},{0});

        \end{axis}

        % Cayley Transform
        \begin{axis}[
            at={(realline.east)},
            xshift=2.5cm,
            anchor=west,
            axis lines = middle,
            name = cayleytransform,
            height = 4cm, width = 4cm,
            scale only axis,
            xlabel={$\re$},
            xlabel style = {
                at={(1.075,0.435)},
                anchor=south
            },
            ylabel={$\im$},
            ylabel style = {
                at={(0.415,1.07)},
                anchor=west
            },
            ticks=none,
            xmin = -1.5, xmax = 1.5,
            ymin = -1.5, ymax = 1.5
        ]
            
            % Unit circle
            \addplot[
                domain = 0 : 2*pi,
                samples = 100
            ]
            ({cos(deg(x))}, {sin(deg(x))});

            % Image of (-\inf, -1)
            \addplot[
                domain = -200 : -1,
                color = orange,
                style = thick,
                samples = 1150
            ]
            ({(1 - x*x)/(1 + x*x)}, {(2*x)/(1 + x*x)});

            % Image of [-1, 1]
            \addplot[
                domain = -1 : 1,
                color = blue,
                style = thick,
                samples = 100
            ]
            ({(1 - x*x)/(1 + x*x)}, {(2*x)/(1 + x*x)});

            % Image of (1, \inf)
            \addplot[
                domain = 1 : 200,
                color = red,
                style = thick,
                samples = 1150
            ]
            ({(1 - x*x)/(1 + x*x)}, {(2*x)/(1 + x*x)});

        \end{axis}

        \path[->,out=45,in=135] 
            ($(realline.east)+(-0.5cm,1cm)$) edge
            node[auto,above] {$\varphi(z)$}
            ($(cayleytransform.west)+(0.5cm,1cm)$);

    \end{tikzpicture}
\end{figure}

% The real and imaginary values for the plots are calculated as follows:
%
%
% i - x    (i - x) * (i - x)     -1 - 2ix + x*x     -1 + x*x         -2x        1 - x*x         2x
% ----- = ------------------- = ---------------- = ---------- + i ---------- = --------- + i ---------
% i + x    (i + x) * (i - x)        -1 - x*x        -1 - x*x       -1 - x*x     1 + x*x       1 + x*x